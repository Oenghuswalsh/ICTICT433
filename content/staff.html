<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CRM Staff Page</title>

    <script>
      // Sections of the following JavaScript was sourced from jQuery.com
      // Comments have been added above my own custom JavaScritp
      //Script for accordion with sortable menus
      $(function () {
        {
          let h3Elements = [];
          $("#accordion")
            .accordion({
              collapsible: true,
              active: false,
              heightStyle: "content",
              header: "> div > h3",
            })
            .sortable({
              axis: "y",
              handle: "h3",
              stop: function (event, ui) {
                // Refresh accordion to handle new order
                $(this).accordion("refresh");
              },
            });
        }
      });
      //Script for staff members data
      //staff Memeber data objects
      const employee1 = {
        firstName: "John",
        lastName: "Connor",
        email: "J.Conner@example.com",
        phone: "123-456-7890",
      };

      const employee2 = {
        firstName: "Mick",
        lastName: "Smith",
        email: "M.Smith@example.com",
        phone: "555-555-1212",
      };

      const employee3 = {
        firstName: "Bob",
        lastName: "Murphy",
        email: "B.Murphy@example.com",
        phone: "987-654-3210",
      };
      const employee4 = {
        firstName: "Mary",
        lastName: "Wallace",
        email: "M.Wallace@example.com",
        phone: "123-456-7890",
      };

      const employee5 = {
        firstName: "Alice",
        lastName: "Brown",
        email: "A.Brown@example.com",
        phone: "555-555-1212",
      };

      const employee6 = {
        firstName: "Thomas",
        lastName: "Burke",
        email: "T.Burke@example.com",
        phone: "987-654-3210",
      };

      const employee7 = {
        firstName: "Benjamin",
        lastName: "Martin",
        email: "b.martin@example.com",
        phone: "123-456-7890",
      };

      const employee8 = {
        firstName: "James",
        lastName: "Anderson",
        email: "james.anderson@example.com",
        phone: "555-555-1212",
      };

      const employee9 = {
        firstName: "Sarah",
        lastName: ">Williams",
        email: "sarah.williams@example.com",
        phone: "987-654-3210",
      };
      const employee10 = {
        firstName: "Samantha",
        lastName: "Lee",
        email: "samantha.lee@example.com",
        phone: "123-456-7890",
      };

      const employee11 = {
        firstName: "Emily",
        lastName: "Taylor",
        email: "emily.taylor@example.com",
        phone: "555-555-1212",
      };

      const employee12 = {
        firstName: "William",
        lastName: "Johnson",
        email: "william.johnson@example.com",
        phone: "987-654-3210",
      };
      // staff data array
      const employee = [
        employee1,
        employee2,
        employee3,
        employee4,
        employee5,
        employee6,
        employee7,
        employee8,
        employee9,
        employee10,
        employee11,
        employee12,
      ];

      let id;

      const dataContainer = document.querySelectorAll("h3");
      // This 'for' loop sets the value of the 'id' variable to the 'id' attribute value of the selected <h3> element.
      for (let i = 0; i < dataContainer.length; i++) {
        dataContainer[i].addEventListener("click", function () {
          id = this.id;
        });
      }
      // Function to display staff data
      function displayUserData(employee) {
        const fullTimeStaffDataContainer = document.getElementById(
          "fullTimeStaffDataContainer"
        );
        const partTimeStaffDataContainer = document.getElementById(
          "partTimeStaffDataContainer"
        );
        const casualStaffDataContainer = document.getElementById(
          "casualStaffDataContainer"
        );
        const contractorsStaffDataContainer = document.getElementById(
          "contractorsStaffDataContainer"
        );
        if (id === "fullTimeStaff") {
          fullTimeStaffDataContainer.innerHTML = "";
        } else if (id === "partTimeStaff") {
          partTimeStaffDataContainer.innerHTML = "";
        } else if (id === "casualStaff") {
          casualStaffDataContainer.innerHTML = "";
        } else if (id === "contractors") {
          contractorsStaffDataContainer.innerHTML = "";
        }

        const firstName = employee.firstName;
        const lastName = employee.lastName;
        const email = employee.email;
        const phone = employee.phone;

        const userDataDiv = document.createElement("div");
        userDataDiv.classList.add("user-data");

        const firstNameLabel = document.createElement("label");
        firstNameLabel.textContent = "First Name:";
        userDataDiv.appendChild(firstNameLabel);

        const firstNameInput = document.createElement("input");
        firstNameInput.type = "text";
        firstNameInput.value = firstName;
        firstNameInput.disabled = true;
        userDataDiv.appendChild(firstNameInput);
        userDataDiv.appendChild(document.createElement("br"));

        const lastNameLabel = document.createElement("label");
        lastNameLabel.textContent = "Last Name:";
        userDataDiv.appendChild(lastNameLabel);

        const lastNameInput = document.createElement("input");
        lastNameInput.type = "text";
        lastNameInput.value = lastName;
        lastNameInput.disabled = true;
        userDataDiv.appendChild(lastNameInput);
        userDataDiv.appendChild(document.createElement("br"));

        const emailLabel = document.createElement("label");
        emailLabel.textContent = "Email:";
        userDataDiv.appendChild(emailLabel);

        const emailInput = document.createElement("input");
        emailInput.type = "email";
        emailInput.value = email;
        emailInput.disabled = true;
        userDataDiv.appendChild(emailInput);
        userDataDiv.appendChild(document.createElement("br"));

        const phoneLabel = document.createElement("label");
        phoneLabel.textContent = "Phone:";
        userDataDiv.appendChild(phoneLabel);

        const phoneInput = document.createElement("input");
        phoneInput.type = "tel";
        phoneInput.value = phone;
        phoneInput.disabled = true;
        userDataDiv.appendChild(phoneInput);
        userDataDiv.appendChild(document.createElement("br"));

        const editButton = document.createElement("button");
        editButton.type = "button";
        editButton.textContent = "Edit";
        editButton.addEventListener("click", (event) => {
          editButton.style.display = "none";
          firstNameInput.disabled = false;
          lastNameInput.disabled = false;
          emailInput.disabled = false;
          phoneInput.disabled = false;
          saveButton.style.display = "inline-block";
        });
        userDataDiv.appendChild(editButton);
        const saveButton = document.createElement("button");
        saveButton.type = "button";
        saveButton.textContent = "Save";
        saveButton.style.display = "none";
        saveButton.addEventListener("click", (event) => {
          employee.firstName = firstNameInput.value;
          employee.lastName = lastNameInput.value;
          employee.email = emailInput.value;
          employee.phone = phoneInput.value;

          firstNameInput.disabled = true;
          lastNameInput.disabled = true;
          emailInput.disabled = true;
          phoneInput.disabled = true;
          saveButton.style.display = "none";
          editButton.style.display = "inline-block";
        });
        userDataDiv.appendChild(saveButton);

        if (id === "fullTimeStaff") {
          fullTimeStaffDataContainer.appendChild(userDataDiv);
        } else if (id === "partTimeStaff") {
          partTimeStaffDataContainer.appendChild(userDataDiv);
        } else if (id === "casualStaff") {
          casualStaffDataContainer.appendChild(userDataDiv);
        } else if (id === "contractors") {
          contractorsStaffDataContainer.appendChild(userDataDiv);
        }
      }

      // Event listener for selecttion staff member seperated by staff catogery.
      const fullTimeSelector = document.getElementById("fullTimeSelector");
      fullTimeSelector.addEventListener("change", (event) => {
        const selectedUserIndex = event.target.value - 1;
        const selectedUserData = employee[selectedUserIndex];
        displayUserData(selectedUserData);
      });

      const partTimeSelector = document.getElementById("partTimeSelector");
      partTimeSelector.addEventListener("change", (event) => {
        const selectedUserIndex = event.target.value - 1;
        const selectedUserData = employee[selectedUserIndex];
        displayUserData(selectedUserData);
      });
      const casualSelector = document.getElementById("casualSelector");
      casualSelector.addEventListener("change", (event) => {
        const selectedUserIndex = event.target.value - 1;
        const selectedUserData = employee[selectedUserIndex];
        displayUserData(selectedUserData);
      });
      const contractorsSelector = document.getElementById(
        "contractorsSelector"
      );
      contractorsSelector.addEventListener("change", (event) => {
        const selectedUserIndex = event.target.value - 1;
        const selectedUserData = employee[selectedUserIndex];
        displayUserData(selectedUserData);
      });
    </script>
  </head>
  <body>
    <div class="dashboards">
      <div class="portlet">
        <!-- Staff card with accordion menus that can be sorted by dragging-->
        <!-- Accordion menus HTML and JS sourced from jQuery.com-->
        <div class="card cardH2">
          <h2 class="portletHeader">Employees</h2>
          <div class="card" id="accordion">
            <div class="group">
              <h3 id="fullTimeStaff">Full-Time empolyees</h3>
              <div>
                <label for="fullTimeSelector">Select Employee:</label>
                <select id="fullTimeSelector">
                  <option value="0" selected disabled>Employees</option>
                  <option value="1">Employee 1</option>
                  <option value="2">Employee 2</option>
                  <option value="3">Employee 3</option>
                </select>
                <div id="fullTimeStaffDataContainer"></div>
              </div>
            </div>
            <div class="group">
              <h3 id="partTimeStaff">Part-Time employees</h3>
              <div>
                <label for="partTimeSelector">Select Employee:</label>
                <select id="partTimeSelector">
                  <option value="0" selected disabled>Employees</option>
                  <option value="4">Employee 4</option>
                  <option value="5">Employee 5</option>
                  <option value="6">Employee 6</option>
                </select>
                <div id="partTimeStaffDataContainer"></div>
              </div>
            </div>
            <div class="group">
              <h3 id="casualStaff">Casual employees</h3>
              <div>
                <label for="casualSelector">Select Employee:</label>
                <select id="casualSelector">
                  <option value="0" selected disabled>Employees</option>
                  <option value="7">Employee 7</option>
                  <option value="8">Employee 8</option>
                  <option value="9">Employee 9</option>
                </select>
                <div id="casualStaffDataContainer"></div>
              </div>
            </div>
            <div class="group">
              <h3 id="contractors">Contractors</h3>
              <div>
                <label for="contractorsSelector">Select Contractor:</label>
                <select id="contractorsSelector">
                  <option value="0" selected disabled>Contractors</option>
                  <option value="10">Contractor 10</option>
                  <option value="11">Contractor 11</option>
                  <option value="12">Contractor 12</option>
                </select>
                <div id="contractorsStaffDataContainer"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
